{% extends 'accounts/base_auth.html' %}
{% load static %}

{% block title %}Mot de passe modifié - Lopes Peinture{% endblock %}

{% block content %}
<div class="w-full max-w-md space-y-8">
  <!-- Header -->
  <div class="text-center">
    <div class="mx-auto h-20 w-20 bg-gradient-to-r from-emerald-600 to-green-600 rounded-full flex items-center justify-center mb-6 shadow-lg animate-bounce">
      <i class="fas fa-check-circle text-white text-2xl"></i>
    </div>
    <h2 class="text-3xl font-bold text-gray-900 mb-2 animate-slide-up">Mot de passe modifié !</h2>
    <p class="text-gray-600 text-lg animate-fade-in leading-relaxed">
      Votre mot de passe a été modifié avec succès.
    </p>
  </div>

  <!-- Success Message -->
  <div class="bg-green-50 border border-green-200 rounded-xl p-6 animate-slide-up">
    <div class="flex items-start">
      <div class="flex-shrink-0">
        <i class="fas fa-shield-check text-green-500 text-2xl"></i>
      </div>
      <div class="ml-4 flex-1">
        <h3 class="text-lg font-semibold text-green-800 mb-3">Sécurité renforcée</h3>
        <div class="text-sm text-green-700 space-y-2">
          <p>Votre compte est maintenant sécurisé avec votre nouveau mot de passe.</p>
          <p><strong>Important :</strong> Conservez ce mot de passe en lieu sûr et ne le partagez jamais.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Next Steps Card -->
  <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-100 animate-slide-up">
    <h3 class="text-xl font-bold text-gray-900 mb-6 text-center">
      <i class="fas fa-rocket mr-2 text-brand-primary"></i>
      Prêt à continuer !
    </h3>

    <div class="space-y-6">
      <!-- Success Steps -->
      <div class="space-y-4">
        <div class="flex items-center space-x-4 p-4 bg-green-50 rounded-xl">
          <div class="flex-shrink-0">
            <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
              <i class="fas fa-check text-white text-sm"></i>
            </div>
          </div>
          <div class="flex-1">
            <h4 class="font-semibold text-gray-900 mb-1">Mot de passe mis à jour</h4>
            <p class="text-sm text-gray-600">Votre nouveau mot de passe est maintenant actif.</p>
          </div>
        </div>

        <div class="flex items-center space-x-4 p-4 bg-blue-50 rounded-xl">
          <div class="flex-shrink-0">
            <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
              <i class="fas fa-user-shield text-white text-sm"></i>
            </div>
          </div>
          <div class="flex-1">
            <h4 class="font-semibold text-gray-900 mb-1">Compte sécurisé</h4>
            <p class="text-sm text-gray-600">Votre compte bénéficie maintenant d'une sécurité renforcée.</p>
          </div>
        </div>

        <div class="flex items-center space-x-4 p-4 bg-purple-50 rounded-xl">
          <div class="flex-shrink-0">
            <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center">
              <i class="fas fa-key text-white text-sm"></i>
            </div>
          </div>
          <div class="flex-1">
            <h4 class="font-semibold text-gray-900 mb-1">Accès restauré</h4>
            <p class="text-sm text-gray-600">Vous pouvez maintenant vous connecter normalement.</p>
          </div>
        </div>
      </div>

      <!-- Connection Button -->
      <div class="pt-4">
        <a
          href="{% url 'accounts:login' %}"
          class="group relative w-full flex justify-center items-center py-4 px-6 text-white font-semibold text-base rounded-xl shadow-lg hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-brand-primary focus:ring-opacity-50 transition-all duration-200 btn-primary transform hover:scale-[1.02] active:scale-[0.98]"
        >
          <i class="fas fa-sign-in-alt mr-3 text-white/90 group-hover:text-white transition-colors duration-200"></i>
          Se connecter maintenant
        </a>
      </div>
    </div>
  </div>

  <!-- Security Tips -->
  <div class="bg-blue-50 border border-blue-200 rounded-xl p-4 animate-slide-up">
    <div class="flex items-start">
      <div class="flex-shrink-0">
        <i class="fas fa-lightbulb text-blue-600 text-lg"></i>
      </div>
      <div class="ml-3">
        <h4 class="text-sm font-semibold text-blue-800 mb-2">Conseils de sécurité</h4>
        <ul class="text-sm text-blue-700 space-y-1">
          <li class="flex items-start">
            <i class="fas fa-dot-circle text-blue-600 mr-2 mt-1 text-xs"></i>
            <span>Ne partagez jamais votre mot de passe avec d'autres personnes</span>
          </li>
          <li class="flex items-start">
            <i class="fas fa-dot-circle text-blue-600 mr-2 mt-1 text-xs"></i>
            <span>Déconnectez-vous après utilisation sur des ordinateurs partagés</span>
          </li>
          <li class="flex items-start">
            <i class="fas fa-dot-circle text-blue-600 mr-2 mt-1 text-xs"></i>
            <span>Changez régulièrement votre mot de passe</span>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 animate-slide-up">
    <a
      href="{% url 'accounts:login' %}"
      class="flex items-center justify-center p-3 bg-gray-100 text-gray-700 font-medium text-sm rounded-xl hover:bg-gray-200 focus:outline-none focus:ring-4 focus:ring-gray-300 focus:ring-opacity-50 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]"
    >
      <i class="fas fa-home mr-2"></i>
      Accueil
    </a>

    <a
      href="mailto:contact@lopespeinture.fr"
      class="flex items-center justify-center p-3 bg-gray-100 text-gray-700 font-medium text-sm rounded-xl hover:bg-gray-200 focus:outline-none focus:ring-4 focus:ring-gray-300 focus:ring-opacity-50 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]"
    >
      <i class="fas fa-envelope mr-2"></i>
      Support
    </a>
  </div>
</div>
{% endblock %}

{% block navigation_links %}
<div class="text-center space-y-6">
  <div class="p-6 bg-gradient-to-r from-emerald-50 to-green-50 border border-emerald-200 rounded-xl shadow-sm">
    <p class="text-emerald-800 font-medium mb-3">
      <i class="fas fa-star mr-2 text-emerald-600" aria-hidden="true"></i>
      Félicitations !
    </p>
    <div class="text-sm text-gray-600 space-y-3">
      <p class="leading-relaxed">
        Vous avez successfully réinitialisé votre mot de passe. Votre compte Lopes Peinture est maintenant sécurisé et prêt à être utilisé.
      </p>
      <p class="font-medium text-emerald-700">
        Merci de faire confiance à Lopes Peinture pour vos projets de peinture et décoration !
      </p>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
  // Auto-redirect après um tempo (opcional)
  document.addEventListener('DOMContentLoaded', function () {
    // Adiciona uma animação de celebração
    const successIcon = document.querySelector('.fa-check-circle');
    if (successIcon) {
      // Animação de pulso personalizada
      successIcon.style.animation = 'pulse 2s ease-in-out infinite';
    }

    // Opcional: Auto-redirect para login após 10 segundos
    // setTimeout(function() {
    //   window.location.href = "{% url 'accounts:login' %}";
    // }, 10000);
  });

  // Efeito confetti (opcional)
  function createConfetti() {
    const colors = ['#10B981', '#3B82F6', '#8B5CF6', '#F59E0B'];
    const confettiContainer = document.createElement('div');
    confettiContainer.style.position = 'fixed';
    confettiContainer.style.top = '0';
    confettiContainer.style.left = '0';
    confettiContainer.style.width = '100%';
    confettiContainer.style.height = '100%';
    confettiContainer.style.pointerEvents = 'none';
    confettiContainer.style.zIndex = '1000';
    document.body.appendChild(confettiContainer);

    for (let i = 0; i < 50; i++) {
      const confetti = document.createElement('div');
      confetti.style.position = 'absolute';
      confetti.style.width = '10px';
      confetti.style.height = '10px';
      confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
      confetti.style.left = Math.random() * 100 + '%';
      confetti.style.top = '-10px';
      confetti.style.borderRadius = '50%';
      confetti.style.animation = `fall ${Math.random() * 3 + 2}s linear forwards`;
      confettiContainer.appendChild(confetti);
    }

    // Remove confetti container after animation
    setTimeout(() => {
      document.body.removeChild(confettiContainer);
    }, 5000);
  }

  // CSS para animação de queda
  const style = document.createElement('style');
  style.textContent = `
    @keyframes fall {
      0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
    }
  `;
  document.head.appendChild(style);

  // Inicia confetti quando a página carrega
  document.addEventListener('DOMContentLoaded', function () {
    setTimeout(createConfetti, 500);
  });
</script>
{% endblock %}
